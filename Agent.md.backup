# ðŸ¤– Agent.md - Technical Project Definition

## 1. ðŸ“ Project Overview (CRM/CMS for Professional Office)

The project involves the development of a custom enterprise web application for a professional service office/cabinet. The system will replace manual processes (Excel files, external appointment management) and provide a unified platform for managing clients, employees, appointments, and tasks.

The system consists of three main interfaces:

1.  **Landing Page:** A replica of the current website with a login modal added.
2.  **Client Area:** Allows clients to request, consult, and manage their own appointments.
3.  **Backoffice (CRM + CMS):** An internal panel for the administration of clients, employees, tasks, session reports, subsidies, and social communication/marketing management.

The system will be implemented using a **Modular Monolith** architecture for the Backend (Golang) and a **Monolithic/BFF** application for the Frontend (Next.js), optimizing development for a single, part-time developer.

---

## 2. âš™ï¸ Technology Stack

| Component | Technology | Standards |
| :--- | :--- | :--- |
| **Backend** | **Go** (Latest Version) + **GIN** Framework | Modular Monolith, GIN Middleware. |
| **Frontend** | **Next.js 16** (TypeScript) | App Router, React Components, **Zustand** for state management. |
| **Styling** | React CSS, **Shadcn UI** | Accessible components, utility/classes. |
| **Database** | **PostgreSQL** (Latest Version) | Transactional source of truth. |
| **Cache/Broker** | **Redis** | Session caching, read caching, **Asynchronous Task Queue**. |
| **API Documentation** | **Swagger/OpenAPI 3.0** | Automated generation (via Go comments). |
| **Development** | **Docker** | Replicable local environment (Go, PG, Redis). |
| **Methodology** | **TDD** (Test-Driven Development) | Primary focus on Backend development and business logic. |

---

## 3. ðŸ›ï¸ Architecture Patterns

### 3.1. Backend Structure (Clean Architecture / Modular Monolith)

The Golang Backend (GIN) will follow the principles of Clean Architecture to separate concerns from infrastructure to business logic.

| Layer | Responsibility | Go Implementation |
| :--- | :--- | :--- |
| **Transport / Adapters** | Entry/exit points: APIs, middlewares, GIN configuration. | `handler/`, `cmd/`, `middleware/` |
| **Services / Business Logic**| Specific business rules (e.g., Schedule Appointment, Assign Task). | `service/` (Interfaces and Core Logic) |
| **Domain / Entities** | Core data models (Client, Employee, Appointment, Task). | `domain/` (Core Structs) |
| **Persistence / Repository** | Abstraction of database access (PostgreSQL, Redis). | `repository/` (DB Access Interfaces) |
| **External Integrations** | Communication with GCal, Notification APIs (WhatsApp/SMS). | `integration/` |

### 3.2. Frontend Structure (Next.js + TypeScript + Zustand)

The Frontend will use Next.js **App Router**. Global state management is delegated to **Zustand** for simplicity and performance, especially for handling user session, notifications, and UI states.

| Folder | Responsibility | Details |
| :--- | :--- | :--- |
| `app/` | Routes and Layout | Layouts, pages, route templates. |
| `components/` | Reusable Components | `ui/` (Shadcn), `common/` (custom), `backoffice/` |
| `stores/` | Global State Management | **Zustand** files (e.g., `useAuthStore`, `useTaskStore`). |
| `hooks/` | Interface Logic | `useDebounce`, custom hooks for accessing stores. |
| `lib/` | Utilities and Configuration | Formatting functions, constants, API client. |

---

## 4. ðŸ”  Naming Conventions

### 4.1. Go (Backend Services)

| Convention | Context | Correct Example |
| :--- | :--- | :--- |
| **PascalCase** | Exported (public) Structs, Exported Functions. | `type UserService struct {}`, `func GetUserByID() {}` |
| **camelCase** | Unexported (private) Structs, Variables, Parameters. | `type carService struct {}`, `var userName string` |
| **CONST_CASE** | Public constants (acronyms in uppercase). | `const MaxRetries = 3` |

### 4.2. TypeScript (Frontend with Zustand)

| Convention | Context | Correct Example |
| :--- | :--- | :--- |
| **PascalCase** | Interfaces, Types, React Components. | `interface UserProps`, `const UserList` |
| **camelCase** | Interface properties, variables, functions. | `firstName: string`, `const fetchUsers = () => {}` |

### 4.3. JSON API Conventions

All keys used in API request and response bodies must use **camelCase**.

* **Go Structs:** The `json:"camelCase"` tag must be used to ensure Go serialization respects the TypeScript/JavaScript convention.

```go
// âœ… Correct - camelCase in JSON tag
type CreateUserRequest struct {
    FirstName string `json:"firstName"` 
    LastName  string `json:"lastName"` 
    Email     string `json:"email"`
}